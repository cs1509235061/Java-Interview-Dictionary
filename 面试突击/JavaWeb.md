# JavaWeb

### 1.**什么是过滤器？**

**定义：** 依赖于servlet容器； 在实现上`基于函数回调`，可以对几乎所有请求进行过滤； 缺点是一个过滤器实例只能在容器初始化时调用一次；

**作用：** 用来做一些过滤操作，获取我们想要获取的数据； 在过滤器中修改字符编码； 在过滤器中修改`HttpServletRequest`的一些参数，包括：过滤低俗文字、危险字符等。

### 2.**什么是监听器？**

**定义：**

实现了`javax.servlet.ServletContextListener` 接口的服务器端程序； 随web应用的启动而启动；只初始化一次； 随web应用的停止而销毁；

**作用：**

做一些初始化的内容添加工作、设置一些基本的内容、比如一些参数或者是一些固定的对象等等。如`SpringMVC`的监听器`org.springframework.web.context.ContextLoaderListener`，实现了`SpringMVC容器的加载`、`Bean对象创建`、`DispatchServlet初始化`等。

### 3.**什么是拦截器？**

依赖于web框架，在SpringMVC中就是依赖于SpringMVC框架； 在实现上基于Java的反射机制，属于面向切面编程（AOP）的一种运用； 缺点是只能对controller请求进行拦截，对其他的一些比如直接访问静态资源的请求则没办法进行拦截处理；

> 由于拦截器是基于web框架的调用，因此可以使用Spring的依赖注入（DI）进行一些业务操作，同时一个拦截器实例在一个controller生命周期之内可以多次调用。

### 4.**过滤器和拦截器的区别？**

| 拦截器                                   | 过滤器                              |
| ---------------------------------------- | ----------------------------------- |
| 基于java反射机制                         | 基于函数回调                        |
| 不依赖Servlet容器                        | 依赖Servlet容器                     |
| 只能对action起作用                       | 几乎对所有请求起作用                |
| 可以访问action上下文，栈里的对象         | 可以访问action上下文，栈里的对象    |
| 在Action生命周期中，拦截器可以多次被调用 | g过滤器只能在容器初始化时被调用一次 |
| 拦截器不能修改request                    | g过滤器可以修改request              |
| 拦截器可以调用IOC容器中的各种依赖        | g过滤器不能调用IOC容器中的各种依赖  |
| 拦截器可以详细到每个方法                 | g过滤器只能在请求的前后使用         |

> 过滤器主要是过滤出要的东西，如requeset中的信息；拦截器在做安全方面用的比较多，比如终止一些流程
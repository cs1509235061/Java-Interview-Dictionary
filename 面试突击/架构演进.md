# 架构演进

### 1.架构演进的能力

要有一个意识说如果你的业务量10倍增长，100倍增长，你的系统架构要如何演进？这几乎是资深工程师必须要有的一个意识和能力。
针对10倍增长的场景，需要引入分库分表的技术，保证每个库每个表分散一定的数据量，避免单表单库数据量过大。
如果100倍增长呢，每年单表新增近10亿数据，你分库分表也不一定够了。因为此时可能会有高并发访问的问题，数据库抗起来很吃力。此时，你要不要考虑数据异构、冷热分离等数据存储的架构设计？比如采用MySQL分库分表 + 分布式NoSQL数据库 + Elasticsearch分布式搜索 + Redis缓存的架构，来整体设计这个数据存储架构。你可以先做冷热分离的架构，比如最热的数据放入分布式NoSQL数据库，专门承载当日数据的高并发写入，以及高性能的读写。然后每过一段时间，做数据归档，
把NoSQL里不再频繁使用的冷数据迁移到MySQL里去归档。最后就是应对海量数据的检索，可以把索引构建在Elasticsearch里来应对，但是从NoSQL+MySQL的异构存储来提取明细数据即可。而且针对一些特别热查询的数据，可以依托Redis做一个缓存。